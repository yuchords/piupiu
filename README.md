# PIUPIU

# 1.两类程序（系统服务和用户程序）
## 1.1系统服务
系统服务为一些必要的逻辑功能，这些功能只需要做出来就可以，不用依赖什么框架我们只需要完成想要的模块输入输出功能即可，最后服务的调用由一个系统状态机操控如：
1. 配网服务，用户为piupiu设置wifi
2. AI功能，连接api、处理、分析（分析最后做）
3. 语音唤醒功能，esp32s3自带的热词功能
4. 服务器连接通讯

省略号  
这些功能就每一个功能一个文件，有适合调用的函数就行  
同时我们要对应去做一个一直在运行的状态机，其包含了系统运行的各种可能状态，但是涉及到的状态会比较多，如关于系统运行状态方面我们有：无网络、低功耗等等，特定功能如AI：正在听用户说话、AI正在说话等等。这里要在思考  
更多的：  
我们要在这里二次封装硬件功能与基本的系统api供给用户服务使用，我们要在这里统一解决并发问题，不然后面用户程序写着写着忘解锁就不好找bug
## 1.2用户服务
我们首先要设计一个app基类辅助开发，所有用户app继承于此，以便我们解决LVGL的多窗口，app是否有后台常驻等等功能  
1. Ai交互程序
2. 用户管理程序
3. 我想要的tune检测
4. 音乐波形图
5. 天气
6. 我们的心连心功能
## 1.3 ROADMAP
先做系统服务，这些服务做出来之间大概率不会有啥干扰，也方便测试，这三个功能都可以做同步做都可以，我建议先把文件给创建了，然后谁写就接着写就行，记得每次打开项目pull一下。  
然后我们要去做一个app基类，这个基类可以很简陋，要反复迭代好几遍一直到最后没bug。   
## 2.用户微信小程序（最后做）
不做app了，不然有ios的有安卓的  
这个直接丢给ai做就行，让ai把界面做好看点  
## 3.后台管理（同步做）
上面小程序是用户端，我们这是管理端服务器，到时候设备mqtt啥的连我们，然后我们在这里做用户管理之类的，这里就是写写后端就行了，前端有字就行。
